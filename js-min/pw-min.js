function $(e){return document.getElementById(e)}function acceptFocus(e){var t=e.srcElement;state.gotFocus||(t.value="",state.gotFocus=!0)}function gotInput(e){var t=e.srcElement,n=e.keyCode,r=!1,s=10;for(i=0;i<s&&!r;i++)state.last_n[i]==n&&(r=!0);if(!r){var o=state.last_n.slice(1);o.push(n),state.last_n=o,state.seed.push((new Date).getTime()%100),state.seed.push(e.keyCode);var u=state.seed.length/2,a;u>security_param?(a="...computing...",generate()):a="I got "+u+" pieces of junk but I need MORE!",$("pw-status").firstChild.nodeValue=a}}function sha_to_shorts(e){var t=CryptoJS.SHA512(e),n=[];for(var r=0;r<t.words.length;r++)word=t.words[r],n.push(word&65535),n.push((word>>16)+32767);return console.log("sha_to_shorts: "+e+" -> "+n.toString()),n}function _gen1(){if(state.randshorts.length==0){var e=state.seed.concat(state.lasthash),t=sha_to_shorts(e.toString());state.lasthash=t.slice(0),state.randshorts=t}var n=state.randshorts.pop();return console.log("_gen1() -> "+n),n}function log2(e){return Math.log(e)/Math.log(2)}function gen1(e){console.log("hi = "+e);var t=Math.ceil(log2(e)),n=-1;console.log("nibts: "+t);var r=~(2147483647<<t);console.log("mask: "+r);while(n<0||n>=e)n=_gen1()&r;return console.log("gen1() -> "+n),n}function generate_pw(){var e=Math.ceil(security_param/log2(dict.words.length)),t=[];for(var n=0;n<e;n++)t.push(dict.words[gen1(dict.words.length)]);return t.join(" ")}function generate(){var e=5,t=[];$("pw-status").style.display="none";for(var n=0;n<e;n++){var r=$("pw-"+n);r.style.display="inline-block",r.firstChild.nodeValue=generate_pw()}}var state={seed:[],last_n:[],getFocus:!1,randshorts:[],prev:[]},security_param=58;